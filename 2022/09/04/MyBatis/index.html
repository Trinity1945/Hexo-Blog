

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/avatar.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#857d85">
  <meta name="author" content="liziyuan">
  <meta name="keywords" content="">
  
    <meta name="description" content="ğŸ’ MyBatisä¸€ä¸ªğŸŒ° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979">
<meta property="og:type" content="article">
<meta property="og:title" content="MyBatis">
<meta property="og:url" content="http://example.com/2022/09/04/MyBatis/index.html">
<meta property="og:site_name" content="ä¹é»åŸ">
<meta property="og:description" content="ğŸ’ MyBatisä¸€ä¸ªğŸŒ° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/13.jpg">
<meta property="article:published_time" content="2022-09-04T01:12:24.000Z">
<meta property="article:modified_time" content="2022-09-04T11:12:52.543Z">
<meta property="article:author" content="liziyuan">
<meta property="article:tag" content="å…«è‚¡æ–‡">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/13.jpg">
  
  
  
  <title>MyBatis - ä¹é»åŸ</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>bigMouse</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                Links
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/2.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MyBatis"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-09-04 09:12" pubdate>
          2022å¹´9æœˆ4æ—¥ ä¸Šåˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          16k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          132 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MyBatis</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="ğŸ’ MyBatis"><a href="#ğŸ’ MyBatis" class="headerlink" title="ğŸ’ MyBatis"></a>ğŸ’ MyBatis</h1><p>ä¸€ä¸ªğŸŒ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><code class="hljs xml-dtd">&lt;resultMap id=&quot;ExtListBaseResultMap&quot; type=&quot;com.xy.tms.tran.entity.vo.TranSeaPlanListVo&quot;<br>           extends=&quot;com.xy.tms.tran.dao.TranSeaPlanMapper.BaseResultMap&quot;&gt;<br>    &lt;result column=&quot;sea_plan_detail_id&quot; jdbcType=&quot;BIGINT&quot; property=&quot;seaPlanDetailId&quot;/&gt;<br>    &lt;result column=&quot;ship_company_order_no&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;shipCompanyOrderNo&quot;/&gt;<br>    &lt;result column=&quot;materiel_code&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;materielCode&quot;/&gt;<br>    &lt;result column=&quot;materiel_name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;materielName&quot;/&gt;<br>    &lt;result column=&quot;materiel_id&quot; jdbcType=&quot;BIGINT&quot; property=&quot;materielId&quot;/&gt;<br>    &lt;result column=&quot;status&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;status&quot;/&gt;<br>    &lt;result column=&quot;create_by&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;createBy&quot; /&gt;<br>    &lt;result column=&quot;create_by_name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;createByName&quot; /&gt;<br>    &lt;result column=&quot;create_time&quot; jdbcType=&quot;TIMESTAMP&quot; property=&quot;createTime&quot; /&gt;<br>    &lt;result column=&quot;update_by&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;updateBy&quot; /&gt;<br>    &lt;result column=&quot;update_by_name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;updateByName&quot; /&gt;<br>    &lt;result column=&quot;update_time&quot; jdbcType=&quot;TIMESTAMP&quot; property=&quot;updateTime&quot; /&gt;<br>    &lt;collection property=&quot;sysRoleIdList&quot; javaType=&quot;java.util.ArrayList&quot; ofType=&quot;java.lang.String&quot; resultMap=&quot;itemResultId&quot;/&gt;<br>&lt;/resultMap&gt;<br><br>&lt;resultMap id=&quot;itemResult&quot; type=&quot;java.lang.String&quot;&gt;<br>    &lt;id column=&quot;role_name&quot; javaType=&quot;java.lang.String&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;role_name&quot;/&gt;<br>&lt;/resultMap&gt;<br><br>&lt;sql id=&quot;Base_Column_List&quot;&gt;<br>    tran_main_plan_id, organization_id, tran_order_id, tran_main_plan_no, plan_sort,<br>    tran_type, tran_type_desc, tran_method, tran_method_desc, start_station_id, end_station_id,<br>    audit_status, audit_status_desc, audit_time, audit_user, allot_status, allot_status_desc,<br>    delivery_status, delivery_status_desc, remark, create_by, create_by_name, create_time,<br>    update_by, update_by_name, update_time, version<br> &lt;/sql&gt;<br><br>&lt;select id=&quot;querySeaPlan&quot; parameterType=&quot;com.xy.tms.tran.entity.vo.TranSeaPlanQueryVo&quot;<br>        resultMap=&quot;ExtListBaseResultMap&quot;&gt;<br>    SELECT<br>    &lt;include refid=&quot;Base_Column_List&quot; /&gt;<br>    tsp.sea_plan_id sea_plan_id,<br>    tsp.status_desc status_desc, -- çŠ¶æ€,<br>    tsp.sea_plan_no sea_plan_no, -- æµ·è¿è®¡åˆ’å·,<br>    tsp.ship_company_order_no ship_company_order_no, -- èˆ¹å…¬å¸è®¢èˆ±å•å·<br>    tsp.book_space_success_flag_desc book_space_success_flag_desc, -- æ˜¯å¦è®¢èˆ±æˆåŠŸ,<br>    tsp.plan_date plan_date, -- è®¡åˆ’æ—¥æœŸ,<br>    tspd.materiel_code materiel_code, -- ç‰©æ–™ç¼–ç ,<br>    tspd.materiel_name materiel_name, -- ç‰©æ–™åç§°,<br>    CONCAT(ifnull(mm.materiel_spec,&#x27;&#x27;)<br>    ,ifnull(mm.packing_weight_unit_desc,&#x27;&#x27;),&#x27;/&#x27;,ifnull(mm.packing_pieces_unit_desc,&#x27;&#x27;)) as packing_spec_full_desc,<br>    -- è§„æ ¼,<br>    pg.product_grade_name product_grade_name, -- ç­‰çº§,<br>    mm.base_unit_desc base_unit_desc, -- å•ä½<br>    tspd.product_grade_id<br>    FROM tran_sea_plan tsp<br>    LEFT JOIN tran_sea_plan_detail tspd ON tsp.sea_plan_id = tspd.sea_plan_id<br>    LEFT JOIN mst_warehouse start_mw ON start_ml.location_id = start_mw.location_id<br>    AND start_mw.organization_id = tsp.organization_id<br>    LEFT JOIN mst_carrier mc ON tsp.ship_company_id = mc.carrier_id<br>    &lt;where&gt;<br>        &lt;trim prefixOverrides=&quot;and&quot;&gt;<br>       &lt;!-- &lt;trim prefix=&quot;WHERE&quot; prefixOverrides=&quot;AND&quot;&gt;  ä¸ä¸Šé¢ç­‰ä»· --&gt;<br>            &lt;if test=&quot;queryVo.seaPlanNo != null and queryVo.seaPlanNo != &#x27;&#x27;&quot;&gt;<br>                AND tsp.sea_plan_no LIKE concat(&#x27;%&#x27;,#&#123;queryVo.seaPlanNo&#125;, &#x27;%&#x27;)<br>            &lt;/if&gt;<br>            &lt;if test=&quot;queryVo.organizationId != null and queryVo.organizationId != &#x27;&#x27;&quot;&gt;<br>                AND tsp.organization_id = #&#123;queryVo.organizationId&#125;<br>            &lt;/if&gt;<br>            &lt;if test=&quot;queryVo.status != null and queryVo.status.size() &gt;0&quot;&gt;<br>                AND tsp.status IN<br>                &lt;foreach collection=&quot;queryVo.status&quot; item=&quot;item&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;<br>                    #&#123;item&#125;<br>                &lt;/foreach&gt;<br>            &lt;/if&gt;<br>            &lt;if test=&quot;queryVo.createTimeList != null and queryVo.createTimeList.size() == 2&quot;&gt;<br>                AND tsp.create_time<br>                BETWEEN #&#123;queryVo.createTimeList[0] &#125; AND #&#123;queryVo.createTimeList[1]  &#125;<br>            &lt;/if&gt;<br>            &lt;choose&gt;<br>                &lt;when test=&quot;isUpdate !=null &quot;&gt;<br>                    AND tsp.create_time = #&#123;isUpdate, jdbcType=INTEGER&#125;<br>                &lt;/when&gt;<br>                &lt;when test=&quot;isDelete != null&quot;&gt;<br>                    AND tsp.create_time  = #&#123;isDelete, jdbcType=INTEGER&#125;<br>                &lt;/when&gt;<br>                &lt;otherwise&gt;<br>                    AND tsp.create_time NOT NULL<br>                &lt;/otherwise&gt;<br>            &lt;/choose&gt;<br>            &lt;if test=&quot; userName != null and userName !=&quot;&quot; &quot;&gt; <br>            ã€€ã€€&lt;bind name= &quot; userNameLike &quot; value ï¼ &quot;&#x27;%&#x27;ï¼‹ userName ï¼‹ &#x27;%&#x27;&quot;/&gt;<br>            ã€€ã€€and username like #&#123;userNameLike&#125; <br>            &lt;/if&gt;ã€€ã€€<br>        &lt;/trim&gt;<br>    &lt;/where&gt;<br>    ORDER BY<br>    tsp.sea_plan_no DESC<br>&lt;/select&gt;<br><br>&lt;update id=&quot;updateAuthorIfNecessary&quot;&gt;<br>  update Author<br>    &lt;set&gt;<br>      &lt;if test=&quot;username != null&quot;&gt;username=#&#123;username&#125;,&lt;/if&gt;<br>      &lt;if test=&quot;password != null&quot;&gt;password=#&#123;password&#125;,&lt;/if&gt;<br>      &lt;if test=&quot;email != null&quot;&gt;email=#&#123;email&#125;,&lt;/if&gt;<br>      &lt;if test=&quot;bio != null&quot;&gt;bio=#&#123;bio&#125;&lt;/if&gt;<br>    &lt;/set&gt;<br>  where id=#&#123;id&#125;<br>&lt;/update&gt;<br><br>&lt;update id=&quot;updateAuthorIfNecessary2&quot;&gt;<br>  update Author<br>    &lt;trim prefix=&quot;SET&quot; suffixOverrides=&quot;,&quot;&gt;<br>        &lt;if test=&quot;username != null&quot;&gt;username=#&#123;username&#125;,&lt;/if&gt;<br>            &lt;if test=&quot;password != null&quot;&gt;password=#&#123;password&#125;,&lt;/if&gt;<br>            &lt;if test=&quot;email != null&quot;&gt;email=#&#123;email&#125;,&lt;/if&gt;<br>            &lt;if test=&quot;bio != null&quot;&gt;bio=#&#123;bio&#125;&lt;/if&gt;<br>    &lt;/trim&gt;<br>  where id=#&#123;id&#125;<br>&lt;/update&gt;<br></code></pre></td></tr></table></figure>

<h2 id="ğŸ““æ‰§è¡Œæµç¨‹"><a href="#ğŸ““æ‰§è¡Œæµç¨‹" class="headerlink" title="ğŸ““æ‰§è¡Œæµç¨‹"></a>ğŸ““æ‰§è¡Œæµç¨‹</h2><p><img src="https://raw.githubusercontent.com/rbmonster/file-storage/main/learning-note/learning/basic/mybatisgo.png" srcset="/img/loading.gif" lazyload alt="avatar"></p>
<ol>
<li>mapper.xmlä¸­çš„é…ç½®â½‚ä»¶â¾¥çš„æ¯æ¡sqlè¯­å¥ï¼Œæ¯ä¸€ä¸ª<code>&lt;select&gt;ã€&lt;insert&gt;ã€&lt;update&gt;ã€&lt;delete&gt;</code>æ ‡ç­¾ï¼Œéƒ½ä¼šè¢«è§£æä¸ºå¸¦æœ‰Idä¿¡æ¯çš„ä¸€ä¸ªä¸ªMappedStatementå¯¹è±¡ï¼Œå†é€šè¿‡â¼€ä¸ªHashMapé›†åˆä¿å­˜èµ·æ¥ã€‚</li>
<li>Mapperæ¥å£æ˜¯æ²¡æœ‰å®ç°ç±»çš„ï¼Œå½“è°ƒç”¨æ¥å£æ–¹æ³•æ—¶ï¼Œæ¥å£å…¨é™å+æ–¹æ³•åæ‹¼æ¥å­—ç¬¦ä¸²ä½œä¸º key å€¼ï¼Œå¯å”¯ä¸€å®šä½ä¸€ä¸ªMappedStatementã€‚</li>
<li>æ‰§â¾getMapper()â½…æ³•ï¼Œåˆ¤æ–­æ˜¯å¦æ³¨å†Œè¿‡mapperæ¥â¼ï¼Œæ³¨å†Œäº†å°±ä¼šä½¿â½¤mapperProxyFactoryå»â½£æˆä»£ç†ç±»MapperProxyæ‰§â¾â½¬æ ‡â½…æ³•æ—¶ï¼Œä¼šè°ƒâ½¤MapperProxyä»£ç†ç±»çš„invoke()â½…æ³•</li>
<li>æ­¤æ—¶ä¼šä½¿ç”¨boundSqlå’Œå¯¹åº”çš„mapperStatementæ„é€ cacheKey,å…ˆè¿›è¡Œç¼“å­˜æŸ¥è¯¢ï¼Œå‘½ä¸­ç›´æ¥è¿”å›ã€‚ç¼“å­˜<code>Map&lt;Method, MapperMethodInvoker&gt; methodCache =</code></li>
<li>ç¼“å­˜æ— å‘½ä¸­,åˆ™åˆ›å»ºconnectè¿æ¥ï¼Œé€šè¿‡statementå¯¹è±¡æ‰§è¡Œexecuteæ–¹æ³•ã€‚</li>
<li>æ‰§â¾execute()â½…æ³•è¿”å›ç»“æœä½¿ç”¨resultSetHandlerè¿›è¡Œç»“æœé›†çš„å°è£…ï¼Œæ·»åŠ åˆ°ç¼“å­˜ä¸­ï¼Œæœ€åè¿”å›ç»“æœã€‚</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/rbmonster/file-storage/main/learning-note/learning/basic/mybatisProcess.jpg"><img src="https://raw.githubusercontent.com/rbmonster/file-storage/main/learning-note/learning/basic/mybatisProcess.jpg" srcset="/img/loading.gif" lazyload alt="avatar"></a></p>
<ul>
<li>å››å¤§ç»„ä»¶:StatementHandlerã€Executorã€ParameterHandlerã€ResultSetHandler</li>
</ul>
<p>ä¸‹é¢çš„æ‰§è¡Œæµç¨‹ç®€è¦æè¿°ï¼Œåªæ˜¯ä¸ºäº†è¾…åŠ©ç†è§£ï¼Œç›¸å…³åˆå§‹åŒ–æ–¹æ³•ï¼š</p>
<ol>
<li>Configurationä¸­ä¿å­˜äº†ï¼Œè§£æå®Œxmlçš„MapperStatementçš„HashMap<ul>
<li>Mybatiså°†Mapperæ¥å£æ³¨å†Œåˆ°Springçš„æ—¶å€™ï¼Œå°†Mapperæ¥å£ç”Ÿæˆçš„BeanDefinitionçš„beanClassè®¾ç½®ä¸ºMapperFactoryBean</li>
</ul>
</li>
<li>Mapperæ¥å£åˆå§‹åŒ–çš„æ—¶å€™é€šè¿‡MapperFactoryBeanï¼Œè¿›è€Œè°ƒç”¨MapperProxyFactoryæ–¹æ³•åˆå§‹åŒ–åŠè°ƒç”¨ã€‚</li>
<li>MapperProxyä»£ç†è°ƒç”¨æ—¶ï¼Œé€šè¿‡åŒ¹é…æƒé™å+ID è·å–MapperStatementå¯¹è±¡</li>
<li>MapperProxyè¿›è€ŒMapperMethodçš„executeæ–¹æ³•ã€‚</li>
<li>SqlSession æ‰§è¡Œçš„æ—¶å€™ä¼šè·å–Configurationä¸­çš„å››å¤§ç»„ä»¶è¿›è¡Œsqlæ‰§è¡Œã€‚</li>
<li>Configurationè¿”å›çš„å››å¤§ç»„ä»¶æ˜¯ç»è¿‡Interceptorä»£ç†å°è£…è¿‡è¿”å›çš„ä»£ç†å¯¹è±¡ã€‚</li>
</ol>
<h2 id="ğŸ““Interceptorçš„å®ç°åŸç†"><a href="#ğŸ““Interceptorçš„å®ç°åŸç†" class="headerlink" title="ğŸ““Interceptorçš„å®ç°åŸç†"></a>ğŸ““Interceptorçš„å®ç°åŸç†</h2><p>Executorã€ResultSetHandlerã€StatementHandlerã€ParameterHandlerï¼Œè¿™æ˜¯Mybatisä¸­çš„å››å¤§å¯¹è±¡ï¼Œä¹Ÿæ˜¯æ‹¦æˆªå™¨çš„åˆ‡å…¥ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºè¿™å››å¤§å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚å› ä¸ºè¿™å››ä¸ªéƒ½æ˜¯æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åŠ¨æ€ä»£ç†è¿›è¡Œæ–¹æ³•çš„å¢å¼ºã€‚</p>
<p>org.apache.ibatis.session.Configurationç±»ï¼Œåœ¨æ–°å»ºæ¥å£å¯¹è±¡çš„æ—¶å€™ï¼Œé€šè¿‡è°ƒç”¨interceptorChainï¼šæ‹¦æˆªå™¨æ‰§è¡Œé“¾çš„pluginæ–¹æ³•ï¼Œè¿”å›è¢«æ‹¦æˆªå™¨åŒ…è£…åçš„ä»£ç†å¯¹è±¡ã€‚ å› æ­¤å¯¹è±¡è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šåˆ¤æ–­æ–¹æ³•æ˜¯å¦æ‹¦æˆªè¿›è€Œè¿›å…¥æ‹¦æˆªå™¨çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Plugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">wrap</span><span class="hljs-params">(Object target, Interceptor interceptor)</span> &#123;<br>        Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; signatureMap = getSignatureMap(interceptor);<br>        Class&lt;?&gt; type = target.getClass();<br>        Class&lt;?&gt;[] interfaces = getAllInterfaces(type, signatureMap);<br>        <span class="hljs-keyword">if</span> (interfaces.length &gt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> Proxy.newProxyInstance(<br>                    type.getClassLoader(),<br>                    interfaces,<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>(target, interceptor, signatureMap));<br>        &#125;<br>        <span class="hljs-keyword">return</span> target;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Set&lt;Method&gt; methods = signatureMap.get(method.getDeclaringClass());<br>            <span class="hljs-keyword">if</span> (methods != <span class="hljs-literal">null</span> &amp;&amp; methods.contains(method)) &#123;<br>                <span class="hljs-keyword">return</span> interceptor.intercept(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Invocation</span>(target, method, args));<br>            &#125;<br>            <span class="hljs-keyword">return</span> method.invoke(target, args);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-keyword">throw</span> ExceptionUtil.unwrapThrowable(e);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="å’Œ-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å’Œ-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="#{}å’Œ${}çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>#{}å’Œ${}çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ul>
<li><code>$&#123;&#125;</code>æ˜¯æ–‡ä»¶ä¸­çš„å˜é‡å ä½ç¬¦ï¼Œå®ƒå¯ä»¥ç”¨äºæ ‡ç­¾å±æ€§å€¼å’Œå†…éƒ¨ï¼Œå±äºé™æ€æ–‡æœ¬æ›¿æ¢ï¼Œæ¯”å¦‚æ˜¯Propertiesæ–‡ä»¶ä¸­çš„å˜é‡å ä½ç¬¦ï¼Œå®ƒå¯ä»¥ç”¨äºæ ‡ç­¾å±æ€§å€¼å’Œsqlå†…éƒ¨ï¼Œå±äºé™æ€æ–‡æœ¬æ›¿æ¢ï¼Œæ¯”å¦‚<code>$&#123;driver&#125;</code>ä¼šè¢«é™æ€æ›¿æ¢ä¸ºcom.mysql.jdbc.Driverã€‚</li>
<li>#{}æ˜¯ sql çš„å‚æ•°å ä½ç¬¦ï¼ŒMyBatis ä¼šå°† sql ä¸­çš„#{}æ›¿æ¢ä¸º?å·ï¼Œåœ¨ sql æ‰§è¡Œå‰ä¼šä½¿ç”¨ PreparedStatement çš„å‚æ•°è®¾ç½®æ–¹æ³•ï¼ŒæŒ‰åºç»™ sql çš„?å·å ä½ç¬¦è®¾ç½®å‚æ•°å€¼ï¼Œæ¯”å¦‚ ps.setInt(0, parameterValue).</li>
<li>ä¸è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œæœ‰é£é™©ï¼ŒåŒæ—¶å­˜åœ¨sqlæ³¨å…¥.</li>
</ul>
<h2 id="ğŸ““Xml-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„-select-insert-updae-delete-æ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ"><a href="#ğŸ““Xml-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„-select-insert-updae-delete-æ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ" class="headerlink" title="ğŸ““Xml æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„ select|insert|updae|delete æ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ"></a>ğŸ““Xml æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„ select|insert|updae|delete æ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ</h2><p><code>&lt;resultMap&gt;ã€&lt;parameterMap&gt;ã€&lt;sql&gt;ã€&lt;include&gt;ã€&lt;selectKey&gt;</code>ï¼ŒåŠ ä¸ŠåŠ¨æ€ sql çš„ 9 ä¸ªæ ‡ç­¾ï¼Œtrim|where|set|foreach|if|choose|when|otherwise|bindç­‰ï¼Œå…¶ä¸­ä¸º sql ç‰‡æ®µæ ‡ç­¾ï¼Œé€šè¿‡æ ‡ç­¾å¼•å…¥ sql ç‰‡æ®µ</p>
<h2 id="ğŸ““é€šå¸¸ä¸€ä¸ª-Xml-æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª-Dao-æ¥å£ä¸ä¹‹å¯¹åº”ï¼Œè¯·é—®ï¼Œè¿™ä¸ª-Dao-æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸDao-æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ"><a href="#ğŸ““é€šå¸¸ä¸€ä¸ª-Xml-æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª-Dao-æ¥å£ä¸ä¹‹å¯¹åº”ï¼Œè¯·é—®ï¼Œè¿™ä¸ª-Dao-æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸDao-æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ" class="headerlink" title="ğŸ““é€šå¸¸ä¸€ä¸ª Xml æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª Dao æ¥å£ä¸ä¹‹å¯¹åº”ï¼Œè¯·é—®ï¼Œè¿™ä¸ª Dao æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸDao æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ"></a>ğŸ““é€šå¸¸ä¸€ä¸ª Xml æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª Dao æ¥å£ä¸ä¹‹å¯¹åº”ï¼Œè¯·é—®ï¼Œè¿™ä¸ª Dao æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸDao æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ</h2><ul>
<li>åœ¨ MyBatis ä¸­ï¼Œæ¯ä¸€ä¸ª<code>&lt;select&gt;ã€&lt;insert&gt;ã€&lt;update&gt;ã€&lt;delete&gt;</code>æ ‡ç­¾ï¼Œéƒ½ä¼šè¢«è§£æä¸ºå¸¦æœ‰Idä¿¡æ¯çš„ä¸€ä¸ªä¸ªMappedStatementå¯¹è±¡ã€‚</li>
<li>Mapperæ¥å£æ˜¯æ²¡æœ‰å®ç°ç±»çš„ï¼Œå½“è°ƒç”¨æ¥å£æ–¹æ³•æ—¶ï¼Œæ¥å£å…¨é™å+æ–¹æ³•åæ‹¼æ¥å­—ç¬¦ä¸²ä½œä¸º key å€¼ï¼Œå¯å”¯ä¸€å®šä½ä¸€ä¸ªMappedStatementã€‚ä¸¾ä¾‹ï¼šcom.mybatis3.mappers.StudentDao.findStudentByIdï¼Œå¯ä»¥å”¯ä¸€æ‰¾åˆ° namespace ä¸ºcom.mybatis3.mappers.StudentDaoä¸‹é¢id &#x3D; findStudentByIdçš„MappedStatementã€‚</li>
<li>Dao æ¥å£é‡Œçš„æ–¹æ³•ï¼Œæ˜¯ä¸èƒ½é‡è½½çš„ï¼Œå› ä¸ºæ˜¯å…¨é™å+æ–¹æ³•åçš„ä¿å­˜å’Œå¯»æ‰¾ç­–ç•¥ã€‚</li>
<li>Dao æ¥å£çš„å·¥ä½œåŸç†æ˜¯ JDK åŠ¨æ€ä»£ç†ï¼ŒMyBatis è¿è¡Œæ—¶ä¼šä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ä¸º Dao æ¥å£ç”Ÿæˆä»£ç† proxy å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡ proxy ä¼šæ‹¦æˆªæ¥å£æ–¹æ³•ï¼Œè½¬è€Œæ‰§è¡ŒMappedStatementæ‰€ä»£è¡¨çš„ sqlï¼Œç„¶åå°† sql æ‰§è¡Œç»“æœè¿”å›ã€‚</li>
</ul>
<h2 id="ğŸ““MyBatisçš„åˆ†é¡µ"><a href="#ğŸ““MyBatisçš„åˆ†é¡µ" class="headerlink" title="ğŸ““MyBatisçš„åˆ†é¡µ"></a>ğŸ““MyBatisçš„åˆ†é¡µ</h2><p>MyBatisçš„åˆ†é¡µæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ RowBounds å¯¹è±¡è¿›è¡Œåˆ†é¡µï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨PageHelperè¿›è¡Œåˆ†é¡µ</p>
<ul>
<li>ä½¿ç”¨ RowBounds å¯¹è±¡åˆ†é¡µï¼Œå®ƒæ˜¯é’ˆå¯¹ ResultSet ç»“æœé›†æ‰§è¡Œçš„å†…å­˜åˆ†é¡µï¼Œè€Œéç‰©ç†åˆ†é¡µï¼Œå¯¹äºæ•°æ®é‡å¤§çš„æƒ…å†µï¼Œä½¿ç”¨è¿™ç§åˆ†é¡µæ–¹å¼ä¼šæµªè´¹å†…å­˜</li>
<li>ä½¿ç”¨PageHelper è¿›è¡Œåˆ†é¡µï¼Œå®ƒæ˜¯åœ¨StatementHandlerä¹‹å‰è¿›è¡Œæ‹¦æˆªï¼Œå¯¹MappedStatementè¿›è¡Œåˆ†é¡µsqlçš„æ‹¼æ¥æ“ä½œï¼ŒPageHelperåªå¯¹ç´§è·Ÿç€çš„ç¬¬ä¸€ä¸ªSQLè¯­å¥èµ·ä½œç”¨.</li>
<li>å¦å¤–å¯ä»¥ä½¿ç”¨mybatisæ’ä»¶ï¼Œå£°æ˜æ‹¦æˆªå™¨è¿›è¡Œsqlçš„å¤„ç†</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Intercepts(&#123;</span><br><span class="hljs-meta">      @Signature(type = Executor.class,</span><br><span class="hljs-meta">              method = &quot;query&quot;,</span><br><span class="hljs-meta">              args = &#123;MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class,</span><br><span class="hljs-meta">                      CacheKey.class, BoundSql.class&#125;),</span><br><span class="hljs-meta">      @Signature(type = Executor.class,</span><br><span class="hljs-meta">              method = &quot;query&quot;,</span><br><span class="hljs-meta">              args = &#123;MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class&#125;)</span><br><span class="hljs-meta">&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataPermissionInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span>  &#123;&#125;  <br></code></pre></td></tr></table></figure>

<h2 id="ğŸ““MyBatis-æ˜¯å¦‚ä½•å°†-sql-æ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„ï¼Ÿéƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼ï¼Ÿ"><a href="#ğŸ““MyBatis-æ˜¯å¦‚ä½•å°†-sql-æ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„ï¼Ÿéƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼ï¼Ÿ" class="headerlink" title="ğŸ““MyBatis æ˜¯å¦‚ä½•å°† sql æ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„ï¼Ÿéƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼ï¼Ÿ"></a>ğŸ““MyBatis æ˜¯å¦‚ä½•å°† sql æ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„ï¼Ÿéƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼ï¼Ÿ</h2><p>ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨æ ‡ç­¾ï¼Œé€ä¸€å®šä¹‰åˆ—åå’Œå¯¹è±¡å±æ€§åä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚ç¬¬äºŒç§æ˜¯ä½¿ç”¨ sql åˆ—çš„åˆ«ååŠŸèƒ½ï¼Œå°†åˆ—åˆ«åä¹¦å†™ä¸ºå¯¹è±¡å±æ€§åï¼Œæ¯”å¦‚ T_NAME AS NAMEï¼Œå¯¹è±¡å±æ€§åä¸€èˆ¬æ˜¯ nameï¼Œå°å†™ï¼Œä½†æ˜¯åˆ—åä¸åŒºåˆ†å¤§å°å†™</p>
<h2 id="ğŸ““MyBatis-çš„å…³è”æŸ¥è¯¢"><a href="#ğŸ““MyBatis-çš„å…³è”æŸ¥è¯¢" class="headerlink" title="ğŸ““MyBatis çš„å…³è”æŸ¥è¯¢"></a>ğŸ““MyBatis çš„å…³è”æŸ¥è¯¢</h2><p>å…³è”å¯¹è±¡æŸ¥è¯¢ï¼Œæœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<ol>
<li>ä¸€ç§æ˜¯ä½¿ç”¨åµŒå¥—æŸ¥è¯¢ï¼Œåœ¨resultMapä¸­ä½¿ç”¨associationæ ‡ç­¾å…³è”åµŒå¥—æŸ¥è¯¢çš„sqlè¯­å¥ã€‚<ul>
<li><code>&lt;association property=&quot;way&quot; column=&quot;wayId&quot; javaType=&quot;com.whx.bus.entity.Way&quot; select=&quot;selectWayById&quot;&gt;</code></li>
</ul>
</li>
<li>å¦ä¸€ç§æ˜¯ä½¿ç”¨ æ ‡ç­¾æŒ‡å®šresultMapIdï¼Œå°†å…³è”æŸ¥è¯¢çš„è®°å½•æ˜ å°„åˆ°é›†åˆListä¸­ - å»é‡å¤çš„åŸç†æ˜¯æ ‡ç­¾å†…çš„å­æ ‡ç­¾ï¼ŒæŒ‡å®šäº†å”¯ä¸€ç¡®å®šä¸€æ¡è®°å½•çš„ id åˆ—ï¼ŒMyBatis æ ¹æ®åˆ—å€¼æ¥å®Œæˆ 100 æ¡è®°å½•çš„å»é‡å¤åŠŸèƒ½ï¼Œå¯ä»¥æœ‰å¤šä¸ªï¼Œä»£è¡¨äº†è”åˆä¸»é”®çš„è¯­æ„ã€‚</li>
</ol>
<h2 id="ğŸ““MyBatis-çš„-Xml-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œä¸åŒçš„-Xml-æ˜ å°„æ–‡ä»¶ï¼Œid-æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ"><a href="#ğŸ““MyBatis-çš„-Xml-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œä¸åŒçš„-Xml-æ˜ å°„æ–‡ä»¶ï¼Œid-æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ" class="headerlink" title="ğŸ““MyBatis çš„ Xml æ˜ å°„æ–‡ä»¶ä¸­ï¼Œä¸åŒçš„ Xml æ˜ å°„æ–‡ä»¶ï¼Œid æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ"></a>ğŸ““MyBatis çš„ Xml æ˜ å°„æ–‡ä»¶ä¸­ï¼Œä¸åŒçš„ Xml æ˜ å°„æ–‡ä»¶ï¼Œid æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ</h2><p>ä¸åŒçš„ Xml æ˜ å°„æ–‡ä»¶ï¼Œå¦‚æœé…ç½®äº† namespace,é‚£ä¹ˆ id å¯ä»¥é‡å¤ï¼›å¦‚æœæ²¡æœ‰é…ç½® namespaceï¼Œé‚£ä¹ˆ id ä¸èƒ½é‡å¤</p>
<h2 id="ğŸ““MyBatis-éƒ½æœ‰å“ªäº›-Executor-æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ““MyBatis-éƒ½æœ‰å“ªäº›-Executor-æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ““MyBatis éƒ½æœ‰å“ªäº› Executor æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ““MyBatis éƒ½æœ‰å“ªäº› Executor æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>MyBatis æœ‰ä¸‰ç§åŸºæœ¬çš„ Executor æ‰§è¡Œå™¨ï¼ŒSimpleExecutorã€ReuseExecutorã€BatchExecutorã€‚</p>
<ul>
<li><strong>SimpleExecutor</strong>ï¼šæ¯æ‰§è¡Œä¸€æ¬¡ update æˆ– selectï¼Œå°±å¼€å¯ä¸€ä¸ª Statement å¯¹è±¡ï¼Œç”¨å®Œç«‹åˆ»å…³é—­ Statement å¯¹è±¡ã€‚</li>
<li><strong>ReuseExecutor</strong>ï¼šæ‰§è¡Œ update æˆ– selectï¼Œä»¥ sql ä½œä¸º key æŸ¥æ‰¾ Statement å¯¹è±¡ï¼Œå­˜åœ¨å°±ä½¿ç”¨ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºï¼Œç”¨å®Œåï¼Œä¸å…³é—­ Statement å¯¹è±¡ï¼Œè€Œæ˜¯æ”¾ç½®äº Map&lt;String, Statement&gt;å†…ï¼Œä¾›ä¸‹ä¸€æ¬¡ä½¿ç”¨ã€‚ç®€è¨€ä¹‹ï¼Œå°±æ˜¯é‡å¤ä½¿ç”¨ Statement å¯¹è±¡ã€‚</li>
<li><strong>BatchExecutor</strong>ï¼šæ‰§è¡Œ updateï¼ˆæ²¡æœ‰ selectï¼ŒJDBC æ‰¹å¤„ç†ä¸æ”¯æŒ selectï¼‰ï¼Œå°†æ‰€æœ‰ sql éƒ½æ·»åŠ åˆ°æ‰¹å¤„ç†ä¸­ï¼ˆaddBatch()ï¼‰ï¼Œç­‰å¾…ç»Ÿä¸€æ‰§è¡Œï¼ˆexecuteBatch()ï¼‰ï¼Œå®ƒç¼“å­˜äº†å¤šä¸ª Statement å¯¹è±¡ï¼Œæ¯ä¸ª Statement å¯¹è±¡éƒ½æ˜¯ addBatch()å®Œæ¯•åï¼Œç­‰å¾…é€ä¸€æ‰§è¡Œ executeBatch()æ‰¹å¤„ç†ã€‚ä¸ JDBC æ‰¹å¤„ç†ç›¸åŒã€‚</li>
<li>ä½œç”¨èŒƒå›´ï¼šExecutor çš„è¿™äº›ç‰¹ç‚¹ï¼Œéƒ½ä¸¥æ ¼é™åˆ¶åœ¨ SqlSession ç”Ÿå‘½å‘¨æœŸèŒƒå›´å†…ã€‚</li>
<li>Mybatisçš„é»˜è®¤æ‰§è¡Œå™¨æ˜¯SimpleExecutorï¼Œéœ€è¦é…ç½®åœ¨åˆ›å»ºSqlSessionå¯¹è±¡çš„æ—¶å€™æŒ‡å®šæ‰§è¡Œå™¨çš„ç±»å‹å³å¯ã€‚</li>
</ul>
<h2 id="ğŸ““MyBatis-xmlæ–‡ä»¶ä¸å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„å…³ç³»ï¼Ÿ"><a href="#ğŸ““MyBatis-xmlæ–‡ä»¶ä¸å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„å…³ç³»ï¼Ÿ" class="headerlink" title="ğŸ““MyBatis xmlæ–‡ä»¶ä¸å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„å…³ç³»ï¼Ÿ"></a>ğŸ““MyBatis xmlæ–‡ä»¶ä¸å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„å…³ç³»ï¼Ÿ</h2><p><code>&lt;resultMap&gt;</code>æ ‡ç­¾ä¼šè¢«è§£æä¸º ResultMap å¯¹è±¡ï¼Œå…¶æ¯ä¸ªå­å…ƒç´ ä¼šè¢«è§£æä¸º ResultMapping å¯¹è±¡ã€‚</p>
<p>æ¯ä¸€ä¸ª<code>&lt;select&gt;ã€&lt;insert&gt;ã€&lt;update&gt;ã€&lt;delete&gt;</code>æ ‡ç­¾å‡ä¼šè¢«è§£æä¸º MappedStatement å¯¹è±¡ã€‚</p>
<p>æ ‡ç­¾å†…çš„ sql ä¼šè¢«è§£æä¸º BoundSql å¯¹è±¡ã€‚</p>
<h2 id="ğŸ““ä¸ºä»€ä¹ˆè¯´-MyBatis-æ˜¯åŠè‡ªåŠ¨-ORM-æ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ"><a href="#ğŸ““ä¸ºä»€ä¹ˆè¯´-MyBatis-æ˜¯åŠè‡ªåŠ¨-ORM-æ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ" class="headerlink" title="ğŸ““ä¸ºä»€ä¹ˆè¯´ MyBatis æ˜¯åŠè‡ªåŠ¨ ORM æ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ"></a>ğŸ““ä¸ºä»€ä¹ˆè¯´ MyBatis æ˜¯åŠè‡ªåŠ¨ ORM æ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ</h2><p>Hibernate å±äºå…¨è‡ªåŠ¨ ORM æ˜ å°„å·¥å…·ï¼Œä½¿ç”¨ Hibernate æŸ¥è¯¢å…³è”å¯¹è±¡æˆ–è€…å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®å¯¹è±¡å…³ç³»æ¨¡å‹ç›´æ¥è·å–</p>
<p>è€Œ MyBatis åœ¨æŸ¥è¯¢å…³è”å¯¹è±¡æˆ–å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™ sql æ¥å®Œæˆï¼Œæ‰€ä»¥ï¼Œç§°ä¹‹ä¸ºåŠè‡ªåŠ¨ ORM æ˜ å°„å·¥å…·ã€‚</p>
<h2 id="ğŸ““mybatisä¸HibernateåŒºåˆ«"><a href="#ğŸ““mybatisä¸HibernateåŒºåˆ«" class="headerlink" title="ğŸ““mybatisä¸HibernateåŒºåˆ«"></a>ğŸ““mybatisä¸HibernateåŒºåˆ«</h2><ol>
<li>ç¼–å†™sqlæ–¹é¢ï¼šhibernateä¸éœ€è¦è‡ªå·±å†™sqlè¯­å¥ï¼Œåªéœ€è¦å†™hqlè¯­å¥ã€‚è€Œmybatiséœ€è¦è‡ªå·±åœ¨é…ç½®æ–‡ä»¶ä¸­å†™sqlè¯­å¥ï¼Œå¯¹å¼€å‘äººå‘˜çš„sqlè¦æ±‚è¾ƒé«˜ã€‚</li>
<li>sqlä¼˜åŒ–æ–¹é¢ï¼šç”±äºhibernateè‡ªåŠ¨ç”Ÿæˆsqlè¯­å¥ï¼Œç”Ÿæˆçš„è¯­å¥å¼€å‘äººå‘˜ä¸æ˜“ä¼˜åŒ–ã€‚è€Œmybatisçš„sqlå®Œå…¨ä½“ç°åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå°±ä¾¿äºä¼˜åŒ–ã€‚</li>
<li>æ•°æ®åº“è¿ç§»æ–¹é¢ï¼šç”±äºhibernateçš„sqlæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¼šæ ¹æ®ä¸åŒçš„æ•°æ®åº“ç”Ÿæˆå¯¹åº”çš„è¯­æ³•ï¼Œè¿ç§»æ€§è¾ƒé«˜ã€‚è€Œmybatisçš„å› ä¸ºéƒ½æ˜¯å†™åœ¨é…ç½®æ–‡ä»¶ï¼Œè¿ç§»æ•°æ®åº“ï¼Œå°±å¯èƒ½é€ æˆè¯­æ³•ä¸æ”¯æŒçš„æƒ…å†µã€‚</li>
<li>æ—¥å¿—æ–¹é¢ï¼šhibernateæ‹¥æœ‰å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼šsqlè®°å½•ã€å…³ç³»å¼‚å¸¸ã€ä¼˜åŒ–è­¦å‘Šã€ç¼“å­˜æç¤ºã€è„æ•°æ®è­¦å‘Šç­‰ã€‚è€Œmybatisä»…æœ‰åŸºæœ¬çš„è®°å½•åŠŸèƒ½ã€‚</li>
<li>ç¼“å­˜æ–¹é¢ï¼šhibernateæœ‰æ›´å¥½çš„äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼“å­˜ã€‚è€Œmybatisæ”¯æŒä¸¤çº§ç¼“å­˜ï¼Œå®é™…åº”ç”¨ä¸­åº”ç”¨æ€§ä¸é«˜ã€‚<ul>
<li>mybatisä¸€çº§ç¼“å­˜sqlSessionçº§çš„ç¼“å­˜ã€‚äºŒçº§ç¼“å­˜Mapperçº§åˆ«çš„ç¼“å­˜ã€‚</li>
<li>hibernateä¸€çº§ç¼“å­˜sessionçº§åˆ«çš„ã€‚HibernateäºŒçº§ç¼“å­˜æ˜¯SessionFactoryçº§çš„ç¼“å­˜ã€‚ SessionFactoryçš„ç¼“å­˜åˆ†ä¸ºå†…ç½®ç¼“å­˜å’Œå¤–ç½®ç¼“å­˜</li>
</ul>
</li>
</ol>
<h2 id="ğŸ““mybatisçš„ä¸€äºŒçº§ç¼“å­˜"><a href="#ğŸ““mybatisçš„ä¸€äºŒçº§ç¼“å­˜" class="headerlink" title="ğŸ““mybatisçš„ä¸€äºŒçº§ç¼“å­˜"></a>ğŸ““mybatisçš„ä¸€äºŒçº§ç¼“å­˜</h2><p>ä¸€çº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯SQlSession, Mabitsé»˜è®¤å¼€å¯ä¸€çº§ç¼“å­˜ã€‚ åœ¨åŒä¸€ä¸ªSqlSessionä¸­ï¼Œæ‰§è¡Œç›¸åŒçš„SQLæŸ¥è¯¢æ—¶ï¼›ç¬¬ä¸€æ¬¡ä¼šå»æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å†™åœ¨ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡ä¼šç›´æ¥ä»ç¼“å­˜ä¸­å–ã€‚ å½“æ‰§è¡ŒSQLæ—¶å€™ä¸¤æ¬¡æŸ¥è¯¢ä¸­é—´å‘ç”Ÿäº†å¢åˆ æ”¹çš„æ“ä½œï¼Œåˆ™SQLSessionçš„ç¼“å­˜ä¼šè¢«æ¸…ç©ºã€‚</p>
<ul>
<li>Mybatisçš„å†…éƒ¨ç¼“å­˜ä½¿ç”¨ä¸€ä¸ªHashMapï¼Œkeyä¸ºStatement Id + Offset + Limit + Sql + Paramsè¯­å¥ã€‚Valueä¸ºæŸ¥è¯¢å‡ºæ¥çš„ç»“æœé›†æ˜ å°„æˆçš„javaå¯¹è±¡ã€‚ SqlSessionæ‰§è¡Œinsertã€updateã€deleteç­‰æ“ä½œcommitåä¼šæ¸…ç©ºè¯¥SQLSessionç¼“å­˜ã€‚<ul>
<li>â‘  select * from table limit 2,1; &#x2F;&#x2F;å«ä¹‰æ˜¯è·³è¿‡2æ¡å–å‡º1æ¡æ•°æ®</li>
<li>â‘¡ select * from table limit 2 offset 1; &#x2F;&#x2F;å«ä¹‰æ˜¯ä»ç¬¬1æ¡æ•°æ®å¼€å§‹å–å‡º2æ¡æ•°æ®,limitåé¢è·Ÿçš„æ˜¯2æ¡æ•°æ®,offsetåé¢æ˜¯ä»ç¬¬1æ¡å¼€å§‹è¯»å–,å³è¯»å–ç¬¬2,3æ¡ã€‚</li>
</ul>
</li>
<li>ä¸€çº§ç¼“å­˜è„è¯»ï¼šå¯¹äºä¸åŒçš„sqlsession Aä¸B, Aåšupdateæ“ä½œï¼Œåªèƒ½åˆ·æ–°Aè‡ªå·±çš„ä¸€çº§ç¼“å­˜ï¼Œæ— æ³•åˆ·æ–°Bçš„ä¸€çº§ç¼“å­˜ã€‚æ‰€ä»¥ï¼Œå¦‚æœAä¸Bæ“ä½œåŒä¸€æ¡è®°å½•ï¼Œå°±ä¼šæœ‰è„è¯»ã€‚<ul>
<li>ä¸€çº§ç¼“å­˜æœ€å¤§èŒƒå›´æ˜¯SqlSessionå†…éƒ¨ï¼Œæœ‰å¤šä¸ªSqlSessionæˆ–è€…åˆ†å¸ƒå¼çš„ç¯å¢ƒä¸‹ï¼Œæ•°æ®åº“å†™æ“ä½œä¼šå¼•èµ·è„æ•°æ®ï¼Œå»ºè®®è®¾å®šç¼“å­˜çº§åˆ«ä¸ºStatementã€‚</li>
</ul>
</li>
</ul>
<p>äºŒçº§ç¼“å­˜ä½œç”¨åŸŸæ˜¯Mapperçº§åˆ«çš„ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¼€å¯ã€‚MyBatisçš„äºŒçº§ç¼“å­˜ç›¸å¯¹äºä¸€çº§ç¼“å­˜æ¥è¯´ï¼Œå®ç°äº†SqlSessionä¹‹é—´ç¼“å­˜æ•°æ®çš„å…±äº«ï¼ŒåŒæ—¶ç²’åº¦æ›´åŠ çš„ç»†ï¼Œèƒ½å¤Ÿåˆ°namespaceçº§åˆ«ã€‚</p>
<ul>
<li><p>äºŒçº§ç¼“å­˜è„è¯»ï¼šåœ¨ä¸¤ä¸ªä¸åŒçš„mapperä¸­éƒ½æ¶‰åŠåˆ°</p>
<p>åŒä¸€ä¸ªè¡¨</p>
<p>çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œå½“å…¶ä¸­ä¸€ä¸ªmapperå¯¹è¿™å¼ è¡¨è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œæ­¤æ—¶å¦ä¸€ä¸ªmapperè¿›è¡Œäº†æ›´æ–°æ“ä½œåˆ·æ–°ç¼“å­˜ï¼Œç„¶åç¬¬ä¸€ä¸ªmapperåˆæŸ¥è¯¢äº†ä¸€æ¬¡ï¼Œé‚£ä¹ˆè¿™æ¬¡æŸ¥è¯¢å‡ºçš„æ•°æ®æ˜¯è„æ•°æ®ã€‚</p>
<ul>
<li>MyBatisåœ¨å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œæå¤§å¯èƒ½ä¼šå‡ºç°è„æ•°æ®ï¼Œæœ‰è®¾è®¡ä¸Šçš„ç¼ºé™·ï¼Œå®‰å…¨ä½¿ç”¨äºŒçº§ç¼“å­˜çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ã€‚</li>
</ul>
</li>
<li><p>mybatisï¼šæŸ¥è¯¢æ—¶ï¼Œå…ˆè¿›è¡ŒäºŒçº§ç¼“å­˜æ‰§è¡Œæµç¨‹åï¼Œå°±ä¼šè¿›å…¥ä¸€çº§ç¼“å­˜çš„æ‰§è¡Œæµç¨‹ã€‚ï¼ˆmapperçº§åˆ«çš„ç¼“å­˜å¯èƒ½æ˜¯å…¶ä»–æ—§çš„sqlsessionæ›´æ–°çš„ï¼Œè‡ªå·±çš„sqlsessionè‹¥å­˜åœ¨ç¼“å­˜ï¼Œåˆ™ä¸ºè¾ƒæ–°çš„ç¼“å­˜ã€‚ï¼‰</p>
</li>
</ul>
<p>æ€»ç»“ï¼šåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç”±äºé»˜è®¤çš„MyBatis Cacheå®ç°éƒ½æ˜¯åŸºäºæœ¬åœ°çš„ï¼Œåˆ†å¸ƒå¼ç¯å¢ƒä¸‹å¿…ç„¶ä¼šå‡ºç°è¯»å–åˆ°è„æ•°æ®</p>
<ul>
<li>ç¾å›¢æŠ€æœ¯å›¢é˜Ÿmybatisç¼“å­˜åˆ†æï¼š<a target="_blank" rel="noopener" href="https://tech.meituan.com/2018/01/19/mybatis-cache.html">https://tech.meituan.com/2018/01/19/mybatis-cache.html</a></li>
</ul>
<h2 id="ğŸ““åƒä¸‡çº§æ•°æ®æŸ¥è¯¢æ–¹æ¡ˆâ€”-æµå¼æŸ¥è¯¢"><a href="#ğŸ““åƒä¸‡çº§æ•°æ®æŸ¥è¯¢æ–¹æ¡ˆâ€”-æµå¼æŸ¥è¯¢" class="headerlink" title="ğŸ““åƒä¸‡çº§æ•°æ®æŸ¥è¯¢æ–¹æ¡ˆâ€”- æµå¼æŸ¥è¯¢"></a>ğŸ““åƒä¸‡çº§æ•°æ®æŸ¥è¯¢æ–¹æ¡ˆâ€”- æµå¼æŸ¥è¯¢</h2><ul>
<li>æµå¼æŸ¥è¯¢æŒ‡çš„æ˜¯æŸ¥è¯¢æˆåŠŸåä¸æ˜¯è¿”å›ä¸€ä¸ªé›†åˆè€Œæ˜¯è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåº”ç”¨æ¯æ¬¡ä»è¿­ä»£å™¨å–ä¸€æ¡æŸ¥è¯¢ç»“æœã€‚æµå¼æŸ¥è¯¢çš„å¥½å¤„æ˜¯èƒ½å¤Ÿé™ä½å†…å­˜ä½¿ç”¨ã€‚</li>
<li>æµå¼æŸ¥è¯¢çš„è¿‡ç¨‹å½“ä¸­ï¼Œæ•°æ®åº“è¿æ¥æ˜¯ä¿æŒæ‰“å¼€çŠ¶æ€çš„ï¼Œå› æ­¤è¦æ³¨æ„çš„æ˜¯ï¼šæ‰§è¡Œä¸€ä¸ªæµå¼æŸ¥è¯¢åï¼Œæ•°æ®åº“è®¿é—®æ¡†æ¶ï¼ˆmybatisï¼‰å°±ä¸è´Ÿè´£å…³é—­æ•°æ®åº“è¿æ¥äº†ï¼Œéœ€è¦åº”ç”¨åœ¨å–å®Œæ•°æ®åè‡ªå·±å…³é—­ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Cursor è¿˜æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼š</span><br><br><span class="hljs-comment">// 1. isOpen()ï¼šç”¨äºåœ¨å–æ•°æ®ä¹‹å‰åˆ¤æ–­ Cursor å¯¹è±¡æ˜¯å¦æ˜¯æ‰“å¼€çŠ¶æ€ã€‚åªæœ‰å½“æ‰“å¼€æ—¶ Cursor æ‰èƒ½å–æ•°æ®ï¼›</span><br><span class="hljs-comment">// 2. isConsumed()ï¼šç”¨äºåˆ¤æ–­æŸ¥è¯¢ç»“æœæ˜¯å¦å…¨éƒ¨å–å®Œã€‚</span><br><span class="hljs-comment">// 3. getCurrentIndex()ï¼šè¿”å›å·²ç»è·å–äº†å¤šå°‘æ¡æ•°æ®</span><br><br><span class="hljs-comment">// æ­£å¸¸ä½¿ç”¨æ–¹æ¡ˆ1 , ä½¿ç”¨sql session</span><br><span class="hljs-keyword">try</span> (<br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();  <span class="hljs-comment">// 1</span><br>        Cursor&lt;Foo&gt; cursor = <br>              sqlSession.getMapper(FooMapper.class).scan(limit)   <span class="hljs-comment">// 2</span><br>    ) &#123;<br>        cursor.forEach(foo -&gt; &#123; &#125;);<br>    &#125;<br>&#125;<br><span class="hljs-comment">// æ–¹æ¡ˆ2ï¼Œä½¿ç”¨ç¼–ç¨‹å¼äº‹åŠ¡ TransactionTemplate</span><br><span class="hljs-comment">// æ–¹æ¡ˆ3ï¼Œä½¿ç”¨å£°æ˜å¼äº‹åŠ¡ @Transaction</span><br></code></pre></td></tr></table></figure>

<h2 id="ğŸ““MyBatisçš„è®¾è®¡æ¨¡å¼"><a href="#ğŸ““MyBatisçš„è®¾è®¡æ¨¡å¼" class="headerlink" title="ğŸ““MyBatisçš„è®¾è®¡æ¨¡å¼"></a>ğŸ““MyBatisçš„è®¾è®¡æ¨¡å¼</h2><ul>
<li><p>Builderæ¨¡å¼ï¼Œä¾‹å¦‚SqlSessionFactoryBuilderã€XMLConfigBuilderã€XMLMapperBuilderã€XMLStatementBuilderã€CacheBuilderï¼›</p>
<ul>
<li><blockquote>
<p>SqlSessionFactoryBuilderä¼šè°ƒç”¨XMLConfigBuilderè¯»å–æ‰€æœ‰çš„MybatisMapConfig.xmlå’Œæ‰€æœ‰çš„*Mapper.xmlæ–‡ä»¶ï¼Œæ„å»ºMybatisè¿è¡Œçš„æ ¸å¿ƒå¯¹è±¡Configurationå¯¹è±¡ï¼Œç„¶åå°†è¯¥Configurationå¯¹è±¡ä½œä¸ºå‚æ•°æ„å»ºä¸€ä¸ªSqlSessionFactoryå¯¹è±¡ã€‚</p>
</blockquote>
</li>
</ul>
</li>
<li><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œä¾‹å¦‚BaseExecutorå’ŒSimpleExecutorï¼Œè¿˜æœ‰BaseTypeHandlerå’Œæ‰€æœ‰çš„å­ç±»ä¾‹å¦‚IntegerTypeHandlerï¼›</p>
</li>
<li><p>å·¥å‚æ¨¡å¼ï¼Œä¾‹å¦‚SqlSessionFactoryã€ObjectFactoryã€MapperProxyFactoryï¼›</p>
</li>
<li><p>å•ä¾‹æ¨¡å¼ï¼Œä¾‹å¦‚ErrorContextå’ŒLogFactoryï¼›</p>
</li>
<li><p>ä»£ç†æ¨¡å¼ï¼ŒMybatiså®ç°çš„æ ¸å¿ƒï¼Œæ¯”å¦‚MapperProxyã€ConnectionLoggerï¼Œç”¨çš„jdkçš„åŠ¨æ€ä»£ç†ï¼›è¿˜æœ‰executor.loaderåŒ…ä½¿ç”¨äº†cglibæˆ–è€…javassistè¾¾åˆ°å»¶è¿ŸåŠ è½½çš„æ•ˆæœï¼›</p>
</li>
<li><p>ç»„åˆæ¨¡å¼ï¼Œä¾‹å¦‚SqlNodeå’Œå„ä¸ªå­ç±»ChooseSqlNodeç­‰ï¼›</p>
</li>
<li><p>é€‚é…å™¨æ¨¡å¼ï¼Œä¾‹å¦‚Logçš„Mybatisæ¥å£å’Œå®ƒå¯¹jdbcã€log4jç­‰å„ç§æ—¥å¿—æ¡†æ¶çš„é€‚é…å®ç°ï¼›</p>
</li>
<li><p>è£…é¥°è€…æ¨¡å¼ï¼Œä¾‹å¦‚CacheåŒ…ä¸­çš„cache.decoratorså­åŒ…ä¸­ç­‰å„ä¸ªè£…é¥°è€…çš„å®ç°ï¼›</p>
</li>
<li><p>è¿­ä»£å™¨æ¨¡å¼ï¼Œä¾‹å¦‚è¿­ä»£å™¨æ¨¡å¼PropertyTokenizerï¼›</p>
</li>
</ul>
<h2 id="ğŸ““-Paramçš„ä½œç”¨"><a href="#ğŸ““-Paramçš„ä½œç”¨" class="headerlink" title="ğŸ““@Paramçš„ä½œç”¨"></a>ğŸ““@Paramçš„ä½œç”¨</h2><p>ç”¨æ¥æŒ‡å®šxmlä¸­<code>#&#123;&#125;</code> æŒ‡å®šçš„å‚æ•°åã€‚</p>
<ul>
<li>å¯¹äºå¸¸è§„çš„å‚æ•°æ˜ å°„ï¼Œå‚æ•°è§£æç›´æ¥æŒ‰ç…§åç§°è§£æå¯¹åº”çš„K-Vå¯¹åº”å…³ç³»ã€‚</li>
<li>å¯¹äºå¯¹è±¡ç±»å‹ä¼ é€’ï¼Œå¯¹äºå•ä¸ªå¯¹è±¡å‚æ•°ä¼ é€’ï¼Œåˆ™ç›´æ¥è§£ææˆclassï¼Œxmlæ–‡ä»¶éœ€è¦ç›´æ¥æŒ‡å®šclassä¸­çš„å­—æ®µ<code>demoId</code>ï¼Œä¸èƒ½ç”¨å‚æ•°å‰ç¼€å<code>demo.demoId</code></li>
<li>å¯¹äºå¤šå¯¹è±¡å‚æ•°çš„ä¼ é€’ï¼Œå‚æ•°å¯ä»¥ä½¿ç”¨åˆ«åä»£æ›¿ã€‚</li>
<li>å‚æ•°è§£ææ–¹æ³•ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperMethod</span>&#123;<br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">convertArgsToSqlCommandParam</span><span class="hljs-params">(Object[] args)</span> &#123;<br>      <span class="hljs-keyword">return</span> paramNameResolver.getNamedParams(args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>å‚æ•°è·å–æ–¹æ³•</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MetaObject</span>&#123;<br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getValue</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-type">PropertyTokenizer</span> <span class="hljs-variable">prop</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PropertyTokenizer</span>(name);<br>        <span class="hljs-keyword">if</span> (prop.hasNext()) &#123;<br>              <span class="hljs-type">MetaObject</span> <span class="hljs-variable">metaValue</span> <span class="hljs-operator">=</span> metaObjectForProperty(prop.getIndexedName());<br>              <span class="hljs-keyword">if</span> (metaValue == SystemMetaObject.NULL_META_OBJECT) &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>              &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">return</span> metaValue.getValue(prop.getChildren());<br>              &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> objectWrapper.get(prop);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="ğŸ’ Droolsè§„åˆ™å¼•æ“"><a href="#ğŸ’ Droolsè§„åˆ™å¼•æ“" class="headerlink" title="ğŸ’ Droolsè§„åˆ™å¼•æ“"></a>ğŸ’ Droolsè§„åˆ™å¼•æ“</h1><h2 id="ğŸ““ä½¿ç”¨åœºæ™¯"><a href="#ğŸ““ä½¿ç”¨åœºæ™¯" class="headerlink" title="ğŸ““ä½¿ç”¨åœºæ™¯"></a>ğŸ““ä½¿ç”¨åœºæ™¯</h2><p>å¯¹äºå¤šåˆ†æ”¯çš„if elseï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼è¿›è¡Œä¼˜åŒ–ã€‚ä½†æ˜¯å¯¹äºè¿‡å¤šåˆ†æ”¯çš„æƒ…å†µï¼Œä¼šä½¿å¾—ç­–ç•¥è¿‡å¤šï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</p>
<p>åœ¨è¯¥ç§æƒ…å†µä¸‹ï¼Œéœ€æ±‚ç‚¹ä¸ºä»¥ä¸‹å››ç‚¹ï¼š</p>
<ul>
<li>ç¬¬ä¸€ï¼Œæˆ‘ä»¬è¦ç®€åŒ–if elseç»“æ„,è®©ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åˆ†ç¦»ï¼</li>
<li>ç¬¬äºŒï¼Œåˆ†ç¦»å‡ºçš„ä¸šåŠ¡é€»è¾‘å¿…é¡»è¦æ˜“äºç¼–å†™ï¼Œè‡³å°‘å•ç‹¬ç¼–å†™è¿™äº›ä¸šåŠ¡é€»è¾‘ï¼Œè¦æ¯”å†™ä»£ç å¿«ï¼</li>
<li>ç¬¬ä¸‰ï¼Œåˆ†ç¦»å‡ºçš„ä¸šåŠ¡é€»è¾‘å¿…é¡»è¦æ¯”åŸæ¥çš„ä»£ç æ›´å®¹æ˜“è¯»æ‡‚ï¼</li>
<li>ç¬¬å››ï¼Œåˆ†ç¦»å‡ºçš„ä¸šåŠ¡é€»è¾‘å¿…é¡»æ¯”åŸæ¥çš„æ˜“äºç»´æŠ¤ï¼Œè‡³å°‘æ”¹åŠ¨è¿™äº›é€»è¾‘ï¼Œåº”ç”¨ç¨‹åºä¸ç”¨é‡å¯ï¼</li>
</ul>
<p>è§„åˆ™å¼•æ“æ»¡è¶³ä»¥ä¸Šçš„éœ€æ±‚ç‚¹ï¼Œå…·ä½“ä½“ç°åœ¨å¦‚ä¸‹ï¼š <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/rbmonster/file-storage/main/learning-note/other/ruleEnginExample.jpg"><img src="https://raw.githubusercontent.com/rbmonster/file-storage/main/learning-note/other/ruleEnginExample.jpg" srcset="/img/loading.gif" lazyload alt="image"></a></p>
<p>å‚è€ƒèµ„æ–™ï¼š<a target="_blank" rel="noopener" href="https://www.cnblogs.com/rjzheng/p/10996186.html">è§„åˆ™å¼•æ“çš„ä½¿ç”¨åœºæ™¯</a></p>
<p>ä½¿ç”¨è§„åˆ™å¼•æ“å¯ä»¥ç»™ç³»ç»Ÿå¸¦æ¥å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>é«˜çµæ´»æ€§ï¼šåœ¨è§„åˆ™ä¿å­˜åœ¨çŸ¥è¯†åº“ä¸­ï¼Œå¯ä»¥åœ¨è§„åˆ™å˜åŠ¨è½»æ˜“åšå‡ºä¿®æ”¹ã€‚</li>
<li>å®¹æ˜“æŒæ§ï¼šè§„åˆ™æ¯”è¿‡ç¨‹ä»£ç æ›´æ˜“äºç†è§£ï¼Œå› æ­¤å¯ä»¥æœ‰æ•ˆåœ°æ¥å¼¥è¡¥ä¸šåŠ¡åˆ†æå¸ˆå’Œå¼€å‘äººå‘˜ä¹‹é—´çš„æ²Ÿé€šé—®é¢˜ã€‚</li>
<li>é™ä½å¤æ‚åº¦ï¼šåœ¨ç¨‹åºä¸­ç¼–å†™å¤§é‡çš„åˆ¤æ–­æ¡ä»¶ï¼Œå¾ˆå¯èƒ½æ˜¯ä¼šé€ æˆä¸€åœºå™©æ¢¦ã€‚ä½¿ç”¨è§„åˆ™å¼•æ“å´èƒ½å¤Ÿé€šè¿‡ä¸€è‡´çš„è¡¨ç¤ºå½¢å¼ï¼Œæ›´å¥½çš„å¤„ç†æ—¥ç›Šå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>å¯é‡ç”¨æ€§ï¼šè§„åˆ™é›†ä¸­ç®¡ç†ï¼Œå¯æé«˜ä¸šåŠ¡çš„è§„åˆ™çš„å¯é‡ç”¨æ€§ã€‚è€Œä¸”ï¼Œä¼ ç»Ÿçš„ä»£ç ç¨‹åºé€šå¸¸ä¼šæ·»åŠ ä¸å¿…è¦çš„å˜æ•°ï¼Œå¾ˆç„¶è¿›è¡Œé‡å¤åˆ©ç”¨ã€‚</li>
</ul>
<blockquote>
<p>éœ€è¦ç•™æ„çš„æ˜¯ï¼Œåœ¨ä¸šåŠ¡è§„åˆ™æ²¡æœ‰å¤ªå¤šå˜åŠ¨ï¼Œä¸šåŠ¡è§„åˆ™æ¯”è¾ƒç®€å•çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ²¡æœ‰å¿…è¦ä½¿ç”¨è§„åˆ™å¼•æ“çš„ã€‚</p>
</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/java%E5%85%AB%E8%82%A1%E6%96%87/" class="category-chain-item">javaå…«è‚¡æ–‡</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%85%AB%E8%82%A1%E6%96%87/">#å…«è‚¡æ–‡</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MyBatis</div>
      <div>http://example.com/2022/09/04/MyBatis/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>liziyuan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2022å¹´9æœˆ4æ—¥</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>è®¸å¯åè®®</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/09/04/Servlet/" title="Servlet">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Servlet</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/09/04/Spring%E4%BA%8B%E5%8A%A1%E5%A4%B1%E6%95%88/" title="Springäº‹åŠ¡å“ªäº›æƒ…å†µä¼šå¤±æ•ˆï¼Ÿ">
                        <span class="hidden-mobile">Springäº‹åŠ¡å“ªäº›æƒ…å†µä¼šå¤±æ•ˆï¼Ÿ</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://venom-lemon.github.io/whitehmoob/" target="_blank" rel="nofollow noopener"><span>nav</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/Venom-lemon" target="_blank" rel="nofollow noopener"><span>liziyuan</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
